---
title: "hw-2_notebook"
format: pdf
editor: visual
---

1.  Read in the file lord-of-the-rings-trilogy.csv that contains data on the number of words spoken in the Lord of the Rings movies for males and females of three of the main races of Middle Earth.

    ```{r}
    library(tidyverse)
    lotr_dialogue <- readr::read_csv(
      "C:\\Users\\16133\\Downloads\\lord-of-the-rings-trilogy.csv"
      )
    ```

2.  List all the ways this dataset is not tidy.

    1.  Some columns have multiple variables - male's and female's should be seperated into a gender variable and the race should be separated into a race variable so that each column is one variable.
    2.  Each row should have one observation - currently each row represents one movie, it should be organized with every row as a unique combination of movie race and gender
    3.  The columns have inconsistent capitalization in the naming and races

3.  How many columns and rows would you have if this dataset was tidy?

    Columns: Movie, Gender, Race, Words Spoken = 4 columns

    Rows: 3 movies \* 2 genders \* 3 races = 18 rows

4.  What would the column names be in tidy format?

    movie_name, gender, race, words_spoken

5.  Tidy the dataset you read in from A1.

    ```{r}
    #rename the columns to have consistent capitalization
    lotr_dialogue_r <- lotr_dialogue |>
      dplyr::rename(
        hobbit_female = Hobbit_female,
        hobbit_male = hobbit_Male,
        human_female = man_Female,
        human_male = Man_male,
      )
    #pivot the data
    tidy_lotr <- lotr_dialogue_r |>
      tidyr::pivot_longer(
        cols = !"movie",
        names_to = c("race", "gender"),
        names_sep = "_",
        values_to = "words_spoken"
        )
    ```

```{=html}
<!-- -->
```
6.  Whatâ€™s the total number of words spoken by: a) male hobbits, b) female elves, and c) male elves?

    ```{r}
    #A: 
    tidy_lotr |> 
      dplyr::filter(
        race == "hobbit",
        gender == "male"
        ) |> tally(words_spoken)
    #B:
    tidy_lotr |> 
      dplyr::filter(
        race == "elf",
        gender == "female"
        ) |> tally(words_spoken)
    #C:
    tidy_lotr |>
      dplyr::filter(
        race == "elf",
        gender == "male"
        ) |> tally(words_spoken)
    ```

7.  Is the number of spoken words in a movie dominated by a single race? 8. Does the dominant race depend on the movie?

    ```{r}
    tidy_lotr |> dplyr::group_by(
      movie,
      race
      ) |>
      summarize(
        total = sum(words_spoken)
        )

    ```

```         

Hobbits dominate the first movie in terms of words spoken, while humans dominate the second.

The third is fairly balanced between humans and hobbits.
```
